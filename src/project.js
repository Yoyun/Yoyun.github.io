window.__require=function n(e,i,t){function o(r,a){if(!i[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}}var l=i[r]={exports:{}};e[r][0].call(l.exports,function(n){return o(e[r][1][n]||n)},l,l.exports,n,e,i,t)}return i[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<t.length;r++)o(t[r]);return o}({main:[function(n,e,i){"use strict";cc._RF.push(e,"a3dd1vSwYJCJLQaS7bpBWRs","main");cc.Class({extends:cc.Component,properties:{fengshan:{default:null,type:cc.Node},workProgress:{default:null,type:cc.Slider},mineNumber:{default:null,type:cc.Label},coinLabel:{default:null,type:cc.Label},coinGenPoint:{default:null,type:cc.Node},coinPrefab:{default:null,type:cc.Prefab},mines:[],currMineIndex:0,coinPool:null},onLoad:function(){this.fengshan.getComponent(cc.Animation).play("fengshan_1"),this.coinPool=new cc.NodePool},start:function(){this.mineInit(this.GetQueryString("uid")),this.mineNumber.string="0",this.coinLabel.string="0 BEET",this.genCoin()},tianjiakuangji:function(){console.log("\u6dfb\u52a0\u77ff\u673a")},tishengsuanli:function(){console.log("\u63d0\u5347\u7b97\u529b")},huoqunengliang:function(){this.genCoin()},yijianshouqu:function(){console.log("\u4e00\u952e\u6536\u53d6")},nextDevice:function(){console.log("\u4e0b\u4e00\u53f0\u8bbe\u5907")},prevDevice:function(){console.log("\u4e0a\u4e00\u53f0\u8bbe\u5907")},refreshMine:function(){console.log(this.mines);var n=this.mines[this.currMineIndex];this.mineNumber.string=""+(this.currMineIndex+1),this.coinLabel.string=n.allToken+" BEET"},genCoin:function(){var n=null;(n=cc.instantiate(this.coinPrefab)).parent=this.coinGenPoint,n.getComponent(cc.Animation).play("anim_coin_1");var e=n.x+200,i=n.x-200;n.setPosition(Math.random()*(e-i)+i,n.y),n.on("click",function(n){this.killCoin(n)},this)},killCoin:function(n){n.getComponent(cc.Animation).stop("anim_coin_1"),n.node.active=!1,n.destroy()},mineInit:function(n){var e=this,i={userId:n};this.POST("http://api.bitbeet.io/api/dappwb/getMineList",i,function(n){0==n.code&&(e.mines=n.result,e.refreshMine())})},setMinieState:function(n,e){var i={userId:n,machineId:e};this.POST("http://api.bitbeet.io/api/dappwb/getMineState",i,function(n){console.log(n)})},mining:function(n,e){var i={userId:n,machineId:e};this.POST("http://api.bitbeet.io/api/dappwb/startMine",i,function(n){console.log(n)})},chargeCoin:function(n,e,i){var t={userId:n,machineId:e};this.POST("http://api.bitbeet.io/api/dappwb/execGetMine",t,function(n){console.log(n)})},POST:function(n,e,i){var t=cc.loader.getXMLHttpRequest();t.open("POST",n,!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<400){var n=t.responseText,e=JSON.parse(n);i(e)}},t.send(JSON.stringify(e))},GetQueryString:function(n){var e=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null}}),cc._RF.pop()},{}]},{},["main"]);